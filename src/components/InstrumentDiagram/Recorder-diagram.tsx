import React from 'react'

import { Dimensions, View } from 'react-native'
import { Circle, Ellipse, G, Path, Svg } from 'react-native-svg'
import { Card } from 'react-native-paper';

import { RecorderDiagramProps } from './RecorderDiagramProps'
import { HoleColors } from '@constants/color';


const createFill = (value?: number): HoleColors => {
  switch (value) {
    case 1: return HoleColors.half;
    case 2: return HoleColors.closed;
    default: return HoleColors.open;
  }
}

const { height, width } = Dimensions.get('window')

export const RecorderDiagram = ({ holeStates }: RecorderDiagramProps): JSX.Element | null => {
  const {
    H0 = 2,
    H1 = 2,
    H2 = 2,
    H3 = 2,
    H4 = 2,
    H5 = 2,
    H6 = 2,
    H61 = 2,
    H7 = 2,
    H71 = 2 } = holeStates

  return (
    <View style={{ margin: 2 }}>
      <Card>
      <Svg width={width} height={height / 3} viewBox={`0 0 26 ${width/2.4}`}>
        <G transform="translate(-64.493 0)" stroke="#000">
          <G fill="#808080">
            <G stroke-width=".106">
              <Circle fill={createFill(H1)} id="H1" cx="73.843" cy="31.325" r="4.0869" opacity=".995" />
              <Circle fill={createFill(H2)} id="H2" cx="73.314" cy="45.034" r="4.0869" opacity=".995" />
              <Circle fill={createFill(H3)} id="H3" cx="73.314" cy="58.599" r="4.0869" opacity=".995" />
              <Circle fill={createFill(H4)} id="H4" cx="73.314" cy="72.881" r="4.0869" opacity=".995" />
              <Circle fill={createFill(H5)} id="H5" cx="73.314" cy="86.863" r="4.0869" opacity=".995" />
            </G>
            <Ellipse fill={createFill(H0)} id="H0" cx="85.801" cy="23.036" rx="4.087" ry="4.0869" opacity=".995" stroke-dasharray="0.706, 0.706" stroke-dashoffset=".6354" stroke-width=".706" />
            <Path fill={createFill(H61)}  id="H61" d="m73.065 96.791a4.0869 4.0869 0 0 1 4.0869 4.0869 4.0869 4.0869 0 0 1-4.0869 4.0869" opacity=".995" stroke-width=".106" />
            <Path fill={createFill(H6)} id="H6" d="m73.065 104.96a4.0869 4.0869 0 0 1-4.0869-4.0869 4.0869 4.0869 0 0 1 4.0869-4.0869" opacity=".995" stroke-width=".106" />
            <G transform="translate(-42.39 -97.881)">
              <Path fill={createFill(H71)} id="H71" transform="scale(.26458)" d="m436.07 797.59a15.446 15.446 0 0 1 15.446 15.446 15.446 15.446 0 0 1-15.446 15.446" opacity=".995" />
              <Path fill={createFill(H7)} id="H7" transform="scale(.26458)" d="m436.07 828.48a15.446 15.446 0 0 1-15.446-15.446 15.446 15.446 0 0 1 15.446-15.446" opacity=".995" />
            </G>
          </G>
          <Path d="m67.529 107.21c0.49293 0.20853 0.98574 0.417 2.1403 0.52529 1.1545 0.1083 2.969 0.11616 4.7841 0.12403m-6.5127-1.4608c0.28115 0.17158 0.56198 0.34297 1.651 0.43131 1.0891 0.0883 2.9856 0.0934 4.8824 0.0985m-7.557 5.2424c0.85416 0.10628 1.614 0.24802 2.8287 0.30315 1.2146 0.0551 5.5962 0.0551 6.8108 0s1.9745-0.19687 2.8287-0.30315m-12.919-98.011 13.369 1e-5m-13.223 3.441 13.077 1e-5m-12.764 0.55521c2.1705-9e-3 10.28-9e-3 12.45 0m-10.966 110.25c0.75631 0.1025 1.5129 0.20503 2.504 0.2496 0.9911 0.0446 3.4832 0.0446 4.4743 0 0.99109-0.0446 1.7476-0.1471 2.504-0.2496m-9.666-0.55123c0.81272 0.091 1.6257 0.18198 2.6549 0.22666 1.0293 0.0447 3.5106 0.0443 4.5399 0 1.0293-0.0447 1.8422-0.13566 2.6549-0.22666m-10.384-1.0691c0.295 0.14472 1.9012 0.33674 3.0238 0.41065 1.1225 0.0739 3.7488 0.0739 4.8713 0 1.1225-0.0739 2.7288-0.26593 3.0238-0.41065m-10.434-0.68483c0.59556 0.0724 1.1914 0.14474 1.8985 0.18929 0.70716 0.0446 5.4458 0.0446 6.153 0 0.70714-0.0446 1.3029-0.11689 1.8985-0.18929m-11.754-3.3914c1.002 0.17814 2.0043 0.35632 2.9425 0.46213 0.93821 0.10581 1.8124 0.13921 2.6588 0.15592 0.84636 0.0167 1.6649 0.0167 1.1778 0.0167-0.48709-1e-5 0.33141-1e-5 1.1778-0.0167 0.84636-0.0167 1.7205-0.0501 2.6587-0.15592 0.93822-0.10581 1.9405-0.28399 2.9425-0.46213m-13.206-0.72587c0.66791 0.13504 1.3467 0.27228 2.1456 0.36543 0.79888 0.0932 2.2075 0.14326 3.1638 0.16699 0.95632 0.0237 1.4604 0.0211 1.1181 0.0184-0.34232 3e-3 0.16173 5e-3 1.118-0.0184 0.95632-0.0237 2.3649-0.0738 3.1638-0.16699 0.79887-0.0932 1.4777-0.23039 2.1456-0.36543m-13.069-0.87361c0.91973 0.17936 1.8396 0.35875 2.8054 0.47481 0.96571 0.11605 1.9771 0.16874 2.8476 0.18674s1.5999 1e-3 0.98829-0.0154c-0.6116 0.0164 0.11781 0.0334 0.98828 0.0154s1.8819-0.0707 2.8476-0.18674c0.96571-0.11606 1.8856-0.29545 2.8054-0.47481m-12.949-9.6195c0.25257 0.0402 1.9294 0.19315 2.7856 0.25287 0.85618 0.0597 6.1875 0.0597 7.0436 0s2.533-0.21267 2.7856-0.25287m-12.32-0.73132c0.5683 0.10095 1.3509 0.16795 2.533 0.22337 1.1818 0.0554 5.7779 0.0554 6.9596-1e-5 1.1821-0.0554 1.9647-0.12242 2.533-0.22337m-0.39057-3.5531c-0.49293 0.20853-0.98574 0.417-2.1403 0.52529-1.1545 0.1083-2.969 0.11616-4.7841 0.12403m6.5126-1.4608c-0.28115 0.17158-0.56198 0.34297-1.651 0.43131-1.089 0.0883-2.9856 0.0934-4.8824 0.0985m7.7851-93.429c1e-3 0.25365 0.0836 0.45695 0.17078 0.6613 0.0872 0.20435 0.1789 0.40823 0.27912 0.66577s0.20898 0.56866 0.19375 0.91528c-0.0152 0.34662-0.15428 0.72885-0.24755 1.0031-0.0933 0.27426-0.14074 0.44045-0.16901 0.5665-0.0283 0.12606-0.037 0.20826-0.0584 0.2982-0.0214 0.0899-0.0553 0.18584-0.13085 0.28434-0.0755 0.0985-0.19282 0.19974-0.25713 0.29515-0.0643 0.0954-0.92015 58.709-1.1156 73.354-0.19548 14.645-0.16985 14.717-0.10214 14.784 0.0677 0.0672 0.17728 0.13013 0.26486 0.27497 0.0876 0.14485 0.15339 0.37145 0.20311 0.48526 0.0497 0.11382 0.0831 0.11515 0.12829 0.15422 0.0452 0.0391 0.10229 0.11569 0.13978 0.2563 0.0375 0.1406 0.0556 0.34512 0.0646 0.44733 9e-3 0.10222 0.16356 0.25674 0.24789 0.36756 0.0843 0.11081 0.25276 0.33214 0.33338 0.582 0.0806 0.24986 0.0737 0.52824-5e-3 0.77384s-0.22901 0.45856-0.31184 0.63405c-0.0828 0.17549-0.0982 0.3133-0.0598 0.46367s0.13025 0.31326 0.18797 0.45106c0.0577 0.13781 0.0814 0.25057 0.0938 0.37621 0.0125 0.12565 0.0138 0.26424 0.0256 1.8526 0.0118 1.5883 0.034 4.6263 0.0953 6.1284 0.0613 1.5022 0.16154 1.4687 0.20738 1.5399 0.0458 0.0712 0.0375 0.24654-0.0196 0.35776-0.057 0.11121-0.16279 0.15853-0.20599 0.25198-0.0432 0.0934-0.0237 0.23263 0.1184 0.49854 0.14208 0.2659 0.40653 0.65841 0.47601 1.0523 0.0695 0.39389-0.0558 0.78921-0.42464 1.2234-0.36885 0.43422-0.98129 0.90746-1.2889 1.2417-0.30763 0.33426-0.3103 0.52914-0.23908 0.65156 0.0712 0.12243 0.21597 0.17254 0.30495 0.26312 0.089 0.0906 0.12238 0.22143 3e-3 0.47465-0.11977 0.25322-0.3926 0.62906-0.52622 0.92846s-0.12805 0.52213-0.16977 0.65977c-0.0417 0.13765-0.13082 0.19055-0.0181 1.825 0.11273 1.6344 0.42732 4.85 0.62373 6.4702 0.1964 1.6202 0.27438 1.6453 0.35232 1.6774 0.0779 0.032 0.15592 0.071 0.19753 0.14766 0.0416 0.0766 0.0472 0.19075 0.14755 0.30764 0.10038 0.1169 0.29526 0.23661 0.4302 0.37726s0.21012 0.30214 0.22812 0.4524c0.018 0.15027-0.021 0.28948-0.10441 0.38263-0.0834 0.0932-0.21148 0.14047-0.2658 0.20329-0.0543 0.0628-0.0348 0.14077 0.33002 0.30773 0.36484 0.16695 1.0748 0.42308 1.4436 0.57212 0.36883 0.14903 0.39667 0.1908 0.44252 0.70594 0.0458 0.51515 0.10987 1.5033-0.0725 2.2535s-0.6111 1.2624-1.0843 1.6188c-0.47323 0.35634-0.99104 0.55678-1.559 0.69878-0.56791 0.14201-1.186 0.22553-2.2648 0.29235-1.0788 0.0668-5.9118 0.0668-6.9906 0-1.0788-0.0668-1.6969-0.15034-2.2648-0.29235-0.56792-0.142-1.0857-0.34244-1.559-0.69878-0.47323-0.35633-0.90196-0.86858-1.0843-1.6188s-0.1183-1.7383-0.0725-2.2535c0.04585-0.51514 0.07369-0.55691 0.44252-0.70594 0.36882-0.14904 1.0787-0.40517 1.4436-0.57212 0.36482-0.16696 0.38432-0.24493 0.33002-0.30773-0.05432-0.0628-0.1824-0.11009-0.2658-0.20329-0.08341-0.0932-0.12241-0.23236-0.10441-0.38263 0.018-0.15026 0.09318-0.31175 0.22812-0.4524s0.32982-0.26036 0.4302-0.37726c0.10035-0.11689 0.10595-0.23104 0.14755-0.30764 0.04161-0.0767 0.11963-0.11566 0.19753-0.14766 0.07794-0.032 0.15592-0.0571 0.35232-1.6774 0.19641-1.6202 0.511-4.8358 0.62373-6.4702 0.11272-1.6344 0.0236-1.6873-0.0181-1.825-0.04172-0.13764-0.03615-0.36037-0.16977-0.65977s-0.40645-0.67524-0.52622-0.92846c-0.11938-0.25322-0.086-0.38405 3e-3 -0.47465 0.08898-0.0906 0.23375-0.14069 0.30495-0.26312 0.07122-0.12242 0.06855-0.3173-0.23908-0.65156-0.30762-0.33426-0.92006-0.8075-1.2889-1.2417-0.36884-0.43421-0.49414-0.82953-0.42464-1.2234 0.06948-0.39388 0.33393-0.78639 0.47601-1.0523 0.1421-0.26591 0.1616-0.40514 0.1184-0.49854-0.0432-0.0935-0.14899-0.14077-0.20599-0.25198-0.0571-0.11122-0.0654-0.28656-0.0196-0.35776 0.04584-0.0711 0.14608-0.0377 0.20738-1.5399 0.0613-1.5022 0.0835-4.5401 0.0953-6.1284 0.0118-1.5883 0.0131-1.7269 0.0256-1.8526 0.0124-0.12564 0.0361-0.2384 0.0938-0.37621 0.05772-0.1378 0.14957-0.30069 0.18797-0.45106s0.023-0.28818-0.0598-0.46367c-0.08283-0.17549-0.23314-0.38845-0.31184-0.63405s-0.0856-0.52398-5e-3 -0.77384c0.08062-0.24986 0.24908-0.47119 0.33338-0.582 0.08433-0.11082 0.23889-0.26534 0.24789-0.36756 9e-3 -0.10221 0.0271-0.30673 0.0646-0.44733 0.03749-0.14061 0.09458-0.2172 0.13978-0.2563 0.04519-0.0391 0.07859-0.0404 0.12829-0.15422 0.04972-0.11381 0.11551-0.34041 0.20311-0.48526 0.08758-0.14484 0.19716-0.20777 0.26486-0.27497 0.06771-0.0672 0.09334-0.13875-0.10214-14.784-0.19548-14.645-1.0513-73.259-1.1156-73.354-0.06431-0.0954-0.18163-0.19664-0.25713-0.29514-0.07555-0.0985-0.10945-0.19444-0.13085-0.28434s-0.0301-0.17215-0.0584-0.29821c-0.02827-0.12605-0.07571-0.29224-0.16901-0.5665-0.09327-0.27426-0.23235-0.65648-0.24755-1.0031-0.01523-0.34662 0.09353-0.65775 0.19375-0.91529 0.10022-0.25754 0.19192-0.46142 0.27912-0.66577 0.08718-0.20435 0.16978-0.40765 0.17078-0.6613m12.903 0.0471-12.882-1e-5m14.919 128.61c-0.57528 0.23872-1.1574 0.48028-2.0078 0.66929-0.85041 0.18901-1.9725 0.32683-3.2127 0.39379-1.2402 0.067-5.2753 0.0671-6.5156 0-1.2402-0.067-2.3623-0.20478-3.2127-0.39379-0.8504-0.18901-1.4325-0.43057-2.0078-0.66929m14.772-1.5119c-1.0867 0.25198-2.1732 0.50392-3.3189 0.626-1.1457 0.12208-4.8028 0.12206-5.9486 1e-5 -1.1457-0.12208-2.2322-0.37402-3.3189-0.626m12.321-1.4812c-1.2138 0.28954-2.4275 0.57903-3.5355 0.73495-1.108 0.15593-3.8756 0.15598-4.9836 1e-5 -1.1081-0.15592-2.3217-0.44541-3.5355-0.73495m11.671-0.51785c-1.147 0.30068-2.2939 0.60131-3.3462 0.76002-1.0524 0.15872-3.5415 0.15873-4.5939 1e-5 -1.0524-0.15871-2.1992-0.45934-3.3462-0.76002" fill="none" stroke-width=".26458px" />
        </G>
      </Svg>
      </Card>
    </View>
  )
}
